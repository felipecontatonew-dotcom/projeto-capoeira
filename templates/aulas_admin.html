{% extends "layout_admin_base.html" %}

{% block title %}Gerenciar Aulas e Eventos{% endblock %}

{% block content %}
<div class="page-header">
  <div class="user-welcome">
    <div class="user-avatar">★</div>
    <div>
      <h1>Gerenciar Aulas e Eventos</h1>
      <p style="color:#666;">Cadastre novas aulas, treinos ou eventos especiais.</p>
    </div>
  </div>
</div>

<div class="form-section">
  <h2>Cadastrar Novo</h2>
  <form method="POST" action="{{ url_for('gerenciar_aulas') }}">
    <div class="grid grid-cols-auto">
        <div class="form-group">
            <label for="nome_aula">Nome da Aula ou Evento:</label>
            <input type="text" name="nome_aula" id="nome_aula" required>
        </div>
        <div class="form-group">
            <label for="tipo">Tipo:</label>
            <select name="tipo" id="tipo">
                <option value="Aula">Aula</option>
                <option value="Evento">Evento</option>
            </select>
        </div>
    </div>
    <div class="grid grid-cols-2">
        <div class="form-group">
            <label for="data_hora">Data e Hora:</label>
            <input type="datetime-local" name="data_hora" id="data_hora" required>
        </div>
        <div class="form-group">
            <label for="local">Local:</label>
            <input type="text" name="local" id="local" required>
        </div>
    </div>
    <button type="submit" class="btn" style="margin-top: 20px;">Cadastrar</button>
  </form>
</div>

<div class="form-section">
    <h2>Próximas Aulas e Eventos</h2>
    <table class="main-table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Data e Hora</th>
                <th>Local</th>
                <th>Tipo</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for aula in aulas %}
            <tr>
                <td>{{ aula.nome_aula }}</td>
                <td>{{ aula.data_hora.strftime('%d/%m/%Y às %H:%M') }}</td>
                <td>{{ aula.local }}</td>
                <td><span style="background: #eee; padding: 4px 8px; border-radius: 5px; color: #333;">{{ aula.tipo }}</span></td>
                <td>
                    <form action="{{ url_for('deletar_aula', aula_id=aula.id) }}" method="POST" onsubmit="return confirm('Tem certeza que deseja apagar?');">
                        <button type="submit" class="btn" style="background-color: #dc3545;">Excluir</button>
                    </form>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center;">Nenhuma aula ou evento futuro cadastrado.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}